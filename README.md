# Hotline & Seller Hotline

این ریپو شامل دو بخش اصلی است:

- **hotline**: وب‌سایت فروش (فروشگاه و سمت کاربر)
- **seller.hotline**: سامانه مدیریت تأمین‌کننده‌ها (پنل تأمین‌کننده + API بک‌اند)

پروژه با Node.js و Express (سمت سرور) و HTML/CSS/JS ساده (سمت فرانت) پیاده‌سازی شده است. دیتابیس مورد استفاده MongoDB است و مدل‌های کاربر، تأمین‌کننده، محصولات و سفارش‌ها با Mongoose مدیریت می‌شوند.

---

## ساختار پوشه‌ها

- `hotline/`
  - `html/`  
    صفحات اصلی سایت (مثل `index.html`, `products.html`, `product-details.html`, `cart.html`, `login.html`, `register.html`, `admin-panel.html`)
  - `css/`
    - `styles.css` — استایل اصلی سایت، شامل تم روشن/تاریک، استایل فرم‌ها، سبد خرید و ...
  - `js/`
    - `script.js` — اسکریپت‌های عمومی سایت (نوتیفیکیشن‌ها، تم، منطق مشترک)
    - `products.js` — دریافت و نمایش لیست محصولات
    - `product-details.js` — نمایش جزئیات محصول، عکس محصول و افزودن به سبد
    - فایل‌های دیگر مربوط به صفحات مختلف (مثل `admin-panel.js`, `cart.js`، در صورت وجود)
  - `backend/`
    - `server.js` — سرور Express برای سرویس‌دهی به صفحات HTML و API های سمت کاربر

- `seller.hotline/`
  - `backend/`
    - `models/`
      - `User.js` — مدل کاربران عادی (مشتری / ادمین)
      - `UserSupplier.js` — مدل تأمین‌کننده‌ها (کالکشن `user-suppliers`)
      - مدل‌های دیگر مثل محصول و سفارش
    - `controllers/`
      - `usersController.js` — ورود/ثبت‌نام، مخصوصاً تأمین‌کننده‌ها
      - `productsController.js` — CRUD محصولات توسط تأمین‌کننده
      - `ordersController.js` — مدیریت سفارش‌های تأمین‌کننده
    - `middleware/`
      - `auth.js` — احراز هویت JWT و بررسی نقش کاربر / تأمین‌کننده
    - `scripts/`
      - `migrateSuppliersToUserSuppliers.js` — مهاجرت تأمین‌کننده‌ها به کالکشن `user-suppliers`
      - `seedSupplier.js` — ساخت یک تأمین‌کننده‌ی اولیه در دیتابیس
    - فایل‌های راه‌اندازی Express و تنظیمات دیگر
  - `html/`
    - صفحات سمت تأمین‌کننده مثل `supplier-dashboard.html` (در صورت استفاده)

---

#
- **سمت کاربر (hotline):**
  - مشاهده لیست محصولات و جزئیات هر محصول
  - افزودن محصولات به سبد خرید
  - مدیریت سبد خرید (افزایش/کاهش تعداد، حذف محصول)
  - ثبت‌نام چندمرحله‌ای (نام فروشگاه + شماره تماس، سپس نام و نام خانوادگی)
  - لاگین کاربر و نمایش پیام‌های خطا/موفقیت با تم روشن/تاریک

- **سمت تأمین‌کننده (seller.hotline):**
  - مدل جداگانه برای تأمین‌کننده‌ها در کالکشن `user-suppliers`
  - ورود تأمین‌کننده فقط با `username` و `password` (بدون ایمیل/شماره در مدل)
  - مدیریت محصولات (افزودن، ویرایش، حذف)
  - مشاهده سفارش‌های مربوط به همان تأمین‌کننده

---

## نکات فنی

- **امنیت و CSP:**  
  تمام کدهای JavaScript از فایل‌های HTML جدا شده و در فایل‌های `.js` مدیریت می‌شوند؛ `onclick` های inline حذف و با event listenerهای استاندارد جایگزین شده‌اند تا با Content Security Policy سازگار باشد.

- **استایل و تم تاریک/روشن:**  
  استایل‌ها با استفاده از CSS Variables و کلاس‌های Bootstrap شخصی‌سازی شده‌اند. برای alert‌ها در تم تاریک رنگ‌بندی مجزا تعریف شده است تا خوانایی بالا باشد.

- **نوتیفیکیشن‌ها / Toasts:**  
  تمام پیام‌های موفقیت/خطا (مثل "محصول به سبد خرید اضافه شد") به‌صورت Toast نمایش داده می‌شوند و مدت نمایش همه‌ی آن‌ها روی **۳ ثانیه** تنظیم شده است.

---


## لایسنس

در صورت نیاز می‌توانید این پروژه را تحت لایسنس دلخواه (مثلاً MIT) منتشر کنید.
