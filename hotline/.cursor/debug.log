{"location":"admin-panel.html:411","message":"editProduct called","data":{"productId":"695a4de3373d86d2a07c87af"},"timestamp":1767528718879,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"admin-panel.html:420","message":"After API call","data":{"status":200,"ok":true},"timestamp":1767528718889,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"admin-panel.html:414","message":"Before API call","data":{"url":"http://localhost:3000/api/products/695a4de3373d86d2a07c87af","hasToken":true},"timestamp":1767528718879,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"admin-panel.html:425","message":"Product data received","data":{"productId":"695a4de3373d86d2a07c87af","hasName":true},"timestamp":1767528718890,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"admin-panel.html:428","message":"Before filling form","data":{"editProductIdExists":true,"editProductModalExists":true},"timestamp":1767528718890,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"admin-panel.html:439","message":"Before showing modal","data":{"bootstrapExists":true},"timestamp":1767528718890,"sessionId":"debug-session","runId":"run1","hypothesisId":"E"}
{"location":"admin-panel.html:441","message":"Modal shown","data":{},"timestamp":1767528718895,"sessionId":"debug-session","runId":"run1","hypothesisId":"E"}
{"location":"supplier-dashboard.html:439","message":"Form submit started","data":{"hasToken":true},"timestamp":1767539474687,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"supplier-dashboard.html:453","message":"Before API call","data":{"url":"http://localhost:3001/api/products","productData":{"name":"لباس","price":100,"category":"clothing","stock":100,"description":"","image":"","minOrder":1},"hasToken":true},"timestamp":1767539474688,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"supplier-dashboard.html:464","message":"After API call","data":{"status":403,"ok":false},"timestamp":1767539474694,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"supplier-dashboard.html:466","message":"Response data received","data":{"hasError":true,"error":"Only suppliers can create products"},"timestamp":1767539474694,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"supplier-dashboard.html:483","message":"Error in form submit","data":{"errorMessage":"Only suppliers can create products","errorStack":"Error: Only suppliers can create products\n    at HTMLFormElement.<anonymous> (http://localhost:3001/html/supplier-dashboard.html:482:27)"},"timestamp":1767539474695,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"login.html:91","message":"Sending login request","data":{"url":"http://localhost:3001/api/users/login","username":"supplier1","hasPassword":true},"timestamp":1767540696741,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"usersController.js:75","message":"Login attempt started","data":{"hasUsername":true,"hasPassword":true},"timestamp":1767540696757,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"usersController.js:84","message":"Searching for user","data":{"username":"supplier1"},"timestamp":1767540696814,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"usersController.js:85","message":"User lookup result","data":{"userFound":false},"timestamp":1767540696835,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"login.html:99","message":"Response received","data":{"status":401,"ok":false},"timestamp":1767540696942,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"login.html:101","message":"Response data parsed","data":{"hasError":true,"error":"نام کاربری یا رمز عبور اشتباه است","hasToken":false,"hasUser":false},"timestamp":1767540696943,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"login.html:91","message":"Sending login request","data":{"url":"http://localhost:3001/api/users/login","username":"supplier1","hasPassword":true},"timestamp":1767540715685,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"usersController.js:75","message":"Login attempt started","data":{"hasUsername":true,"hasPassword":true},"timestamp":1767540715702,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"usersController.js:84","message":"Searching for user","data":{"username":"supplier1"},"timestamp":1767540715703,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"usersController.js:85","message":"User lookup result","data":{"userFound":false},"timestamp":1767540715707,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"login.html:99","message":"Response received","data":{"status":401,"ok":false},"timestamp":1767540715889,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"login.html:101","message":"Response data parsed","data":{"hasError":true,"error":"نام کاربری یا رمز عبور اشتباه است","hasToken":false,"hasUser":false},"timestamp":1767540715890,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"login.html:91","message":"Sending login request","data":{"url":"http://localhost:3001/api/users/login","username":"supplier1","hasPassword":true},"timestamp":1767540716957,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"usersController.js:75","message":"Login attempt started","data":{"hasUsername":true,"hasPassword":true},"timestamp":1767540716981,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"usersController.js:84","message":"Searching for user","data":{"username":"supplier1"},"timestamp":1767540716981,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"usersController.js:85","message":"User lookup result","data":{"userFound":false},"timestamp":1767540716984,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"login.html:99","message":"Response received","data":{"status":401,"ok":false},"timestamp":1767540717169,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"login.html:101","message":"Response data parsed","data":{"hasError":true,"error":"نام کاربری یا رمز عبور اشتباه است","hasToken":false,"hasUser":false},"timestamp":1767540717169,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"login.html:91","message":"Sending login request","data":{"url":"http://localhost:3001/api/users/login","username":"supplier1","hasPassword":true},"timestamp":1767540717421,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"usersController.js:75","message":"Login attempt started","data":{"hasUsername":true,"hasPassword":true},"timestamp":1767540717448,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"usersController.js:84","message":"Searching for user","data":{"username":"supplier1"},"timestamp":1767540717449,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"usersController.js:85","message":"User lookup result","data":{"userFound":false},"timestamp":1767540717451,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"login.html:99","message":"Response received","data":{"status":401,"ok":false},"timestamp":1767540717624,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"login.html:101","message":"Response data parsed","data":{"hasError":true,"error":"نام کاربری یا رمز عبور اشتباه است","hasToken":false,"hasUser":false},"timestamp":1767540717625,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"login.html:91","message":"Sending login request","data":{"url":"http://localhost:3001/api/users/login","username":"supplier1","hasPassword":true},"timestamp":1767540717877,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"usersController.js:84","message":"Searching for user","data":{"username":"supplier1"},"timestamp":1767540717906,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"usersController.js:75","message":"Login attempt started","data":{"hasUsername":true,"hasPassword":true},"timestamp":1767540717905,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"usersController.js:85","message":"User lookup result","data":{"userFound":false},"timestamp":1767540717907,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"login.html:99","message":"Response received","data":{"status":401,"ok":false},"timestamp":1767540718078,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"login.html:101","message":"Response data parsed","data":{"hasError":true,"error":"نام کاربری یا رمز عبور اشتباه است","hasToken":false,"hasUser":false},"timestamp":1767540718079,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"login.html:91","message":"Sending login request","data":{"url":"http://localhost:3001/api/users/login","username":"supplier","hasPassword":true},"timestamp":1767540799861,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"usersController.js:75","message":"Login attempt started","data":{"hasUsername":true,"hasPassword":true},"timestamp":1767540799876,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"usersController.js:84","message":"Searching for user","data":{"username":"supplier"},"timestamp":1767540799894,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"usersController.js:85","message":"User lookup result","data":{"userFound":true,"userId":"695a87e514689c8d008049d9","userRole":"supplier","userUsername":"supplier"},"timestamp":1767540799909,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"usersController.js:90","message":"Checking user role","data":{"userRole":"supplier","isSupplier":true},"timestamp":1767540799909,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"usersController.js:95","message":"Before password verification","data":{"hasUserPassword":true,"passwordLength":60},"timestamp":1767540799910,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"usersController.js:96","message":"Password verification result","data":{"isMatch":true},"timestamp":1767540799985,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"login.html:99","message":"Response received","data":{"status":200,"ok":true},"timestamp":1767540800055,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"login.html:101","message":"Response data parsed","data":{"hasError":false,"hasToken":true,"hasUser":true},"timestamp":1767540800056,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"supplier-dashboard.html:464","message":"Before API call","data":{"hasToken":true,"tokenLength":176,"tokenPrefix":"eyJhbGciOiJIUzI1NiIs","productData":{"name":"لباس","price":100,"category":"electronics","stock":100,"description":"","image":"","minOrder":1}},"timestamp":1767541336732,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"supplier-dashboard.html:467","message":"API call started","data":{"url":"http://localhost:3001/api/products","method":"POST","authHeaderLength":183},"timestamp":1767541336733,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"auth.js:4","message":"Auth middleware entered","data":{"path":"/","method":"POST","hasAuthHeader":true,"authHeader":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI2OTVhODdlNTE0Njg5YzhkMDA4MDQ5ZDkiLCJpYXQiOjE3Njc1NDA3OTksImV4cCI6MTc3MDEzMjc5OX0.LqUeJBw4zykVeRdKcGvLYkA8fTSPQKDoWz7gKYQawVQ"},"timestamp":1767541336748,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"auth.js:9","message":"Token extraction","data":{"authHeader":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI2OTVhODdlNTE0Njg5YzhkMDA4MDQ5ZDkiLCJpYXQiOjE3Njc1NDA3OTksImV4cCI6MTc3MDEzMjc5OX0.LqUeJBw4zykVeRdKcGvLYkA8fTSPQKDoWz7gKYQawVQ","hasAuthHeader":true},"timestamp":1767541336750,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"auth.js:15","message":"JWT_SECRET check","data":{"hasJwtSecret":false},"timestamp":1767541336751,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"supplier-dashboard.html:476","message":"Response received","data":{"status":500,"ok":false,"statusText":"Internal Server Error"},"timestamp":1767541336754,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"supplier-dashboard.html:478","message":"Response data parsed","data":{"hasError":true,"error":"Server configuration error"},"timestamp":1767541336755,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"supplier-dashboard.html:464","message":"Before API call","data":{"hasToken":true,"tokenLength":176,"tokenPrefix":"eyJhbGciOiJIUzI1NiIs","productData":{"name":"لباس","price":100,"category":"clothing","stock":100,"description":"","image":"","minOrder":1}},"timestamp":1767541394045,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"supplier-dashboard.html:467","message":"API call started","data":{"url":"http://localhost:3001/api/products","method":"POST","authHeaderLength":183},"timestamp":1767541394045,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"auth.js:4","message":"Auth middleware entered","data":{"path":"/","method":"POST","hasAuthHeader":true,"authHeader":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI2OTVhODdlNTE0Njg5YzhkMDA4MDQ5ZDkiLCJpYXQiOjE3Njc1NDA3OTksImV4cCI6MTc3MDEzMjc5OX0.LqUeJBw4zykVeRdKcGvLYkA8fTSPQKDoWz7gKYQawVQ"},"timestamp":1767541394057,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"auth.js:9","message":"Token extraction","data":{"authHeader":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI2OTVhODdlNTE0Njg5YzhkMDA4MDQ5ZDkiLCJpYXQiOjE3Njc1NDA3OTksImV4cCI6MTc3MDEzMjc5OX0.LqUeJBw4zykVeRdKcGvLYkA8fTSPQKDoWz7gKYQawVQ","hasAuthHeader":true},"timestamp":1767541394058,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"supplier-dashboard.html:476","message":"Response received","data":{"status":401,"ok":false,"statusText":"Unauthorized"},"timestamp":1767541394063,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"auth.js:15","message":"JWT_SECRET check","data":{"hasJwtSecret":false},"timestamp":1767541394058,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"auth.js:20","message":"Before JWT verify","data":{"tokenLength":176,"tokenPrefix":"eyJhbGciOiJIUzI1NiIs"},"timestamp":1767541394058,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"auth.js:25","message":"Auth error","data":{"errorName":"JsonWebTokenError","errorMessage":"invalid signature"},"timestamp":1767541394060,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"supplier-dashboard.html:478","message":"Response data parsed","data":{"hasError":true,"error":"Invalid token"},"timestamp":1767541394064,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"supplier-dashboard.html:464","message":"Before API call","data":{"hasToken":true,"tokenLength":176,"tokenPrefix":"eyJhbGciOiJIUzI1NiIs","productData":{"name":"لباس","price":100,"category":"clothing","stock":100,"description":"","image":"","minOrder":1}},"timestamp":1767541475236,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"supplier-dashboard.html:467","message":"API call started","data":{"url":"http://localhost:3001/api/products","method":"POST","authHeaderLength":183},"timestamp":1767541475236,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"auth.js:4","message":"Auth middleware entered","data":{"path":"/","method":"POST","hasAuthHeader":true,"authHeader":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI2OTVhODdlNTE0Njg5YzhkMDA4MDQ5ZDkiLCJpYXQiOjE3Njc1NDA3OTksImV4cCI6MTc3MDEzMjc5OX0.LqUeJBw4zykVeRdKcGvLYkA8fTSPQKDoWz7gKYQawVQ"},"timestamp":1767541475248,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"auth.js:15","message":"JWT_SECRET check","data":{"hasJwtSecret":false},"timestamp":1767541475249,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"auth.js:20","message":"Before JWT verify","data":{"tokenLength":176,"tokenPrefix":"eyJhbGciOiJIUzI1NiIs"},"timestamp":1767541475250,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"auth.js:22","message":"JWT verified","data":{"userId":"695a87e514689c8d008049d9"},"timestamp":1767541475252,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"auth.js:9","message":"Token extraction","data":{"authHeader":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI2OTVhODdlNTE0Njg5YzhkMDA4MDQ5ZDkiLCJpYXQiOjE3Njc1NDA3OTksImV4cCI6MTc3MDEzMjc5OX0.LqUeJBw4zykVeRdKcGvLYkA8fTSPQKDoWz7gKYQawVQ","hasAuthHeader":true},"timestamp":1767541475249,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"productsController.js:66","message":"Before user lookup","data":{"userId":"695a87e514689c8d008049d9"},"timestamp":1767541475252,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"productsController.js:59","message":"createProduct called","data":{"hasUser":true,"userId":"695a87e514689c8d008049d9","body":{"name":"لباس","price":100,"category":"clothing","stock":100,"description":"","image":"","minOrder":1}},"timestamp":1767541475252,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"productsController.js:67","message":"User lookup result","data":{"userFound":true,"userRole":"supplier","userName":"تأمین‌کننده تست"},"timestamp":1767541475263,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"supplier-dashboard.html:476","message":"Response received","data":{"status":201,"ok":true,"statusText":"Created"},"timestamp":1767541475278,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"supplier-dashboard.html:478","message":"Response data parsed","data":{"hasError":false},"timestamp":1767541475278,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"auth.js:4","message":"Auth middleware entered","data":{"path":"/supplier/my-products","method":"GET","hasAuthHeader":true,"authHeader":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI2OTVhODdlNTE0Njg5YzhkMDA4MDQ5ZDkiLCJpYXQiOjE3Njc1NDA3OTksImV4cCI6MTc3MDEzMjc5OX0.LqUeJBw4zykVeRdKcGvLYkA8fTSPQKDoWz7gKYQawVQ"},"timestamp":1767541475280,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"auth.js:15","message":"JWT_SECRET check","data":{"hasJwtSecret":false},"timestamp":1767541475281,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"auth.js:20","message":"Before JWT verify","data":{"tokenLength":176,"tokenPrefix":"eyJhbGciOiJIUzI1NiIs"},"timestamp":1767541475282,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"auth.js:22","message":"JWT verified","data":{"userId":"695a87e514689c8d008049d9"},"timestamp":1767541475282,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"auth.js:9","message":"Token extraction","data":{"authHeader":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI2OTVhODdlNTE0Njg5YzhkMDA4MDQ5ZDkiLCJpYXQiOjE3Njc1NDA3OTksImV4cCI6MTc3MDEzMjc5OX0.LqUeJBw4zykVeRdKcGvLYkA8fTSPQKDoWz7gKYQawVQ","hasAuthHeader":true},"timestamp":1767541475281,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
